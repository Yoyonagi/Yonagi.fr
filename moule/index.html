<!DOCTYPE html>
<html lang="fr">
<head>
    <script>
        // Meta spécifiques à la page Moule
        window.PAGE = {
            title: "Moule d'injection plastique — Yonagi",
            desc: "Projet de moule d’injection plastique conçu pour produire une éprouvette de traction à usage pédagogique. Modélisé sous SolidWorks, usiné avec Fusion360, visualisable en 3D.",
            path: "/moule/"
        };

        // Charger le head commun depuis /assets/html/
        (async () => {
            const res = await fetch('/assets/html/head-meta.html');
            let html = await res.text();
            const P = window.PAGE || {};
            html = html
                .replaceAll('<!--PAGE_TITLE-->', P.title || 'Yonagi — Site')
                .replaceAll('<!--PAGE_DESC-->', P.desc || 'Portfolio et projets de Yonagi.')
                .replaceAll('<!--PAGE_PATH-->', P.path || '/');
            document.head.insertAdjacentHTML('afterbegin', html);
        })();
    </script>

    <!-- Script spécifique: model-viewer -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
</head>

<body class="with-sidebar">
    <!-- Sidebar -->
    <div id="sidebar"></div>
    <script src="/assets/js/sidebar-loader.js" defer></script>

    <main class="container fullbleed">
        <header style="display:flex; gap:16px; align-items:end; justify-content:space-between; flex-wrap:wrap;">
            <h1 class="viewer-title">Projet de moule d'injection plastique</h1>
        </header>

        <!-- Viewer 3D -->
        <section class="viewer-container">
            <model-viewer id="viewer"
                          alt="Moule d'injection plastique"
                          src="/assets/3d/Moule-projet.glb"
                          ar
                          auto-rotate
                          camera-controls
                          touch-action="pan-y"
                          shadow-intensity="1"
                          exposure="1"
                          poster="">
            </model-viewer>
        </section>

        <!-- Description projet (repris de ta page, juste corrigé légèrement) -->
        <section class="project-description container">
            <p>
                Ce projet a été réalisé sur mes deux <strong>dernières</strong> années d'université. Il s’agit d’un moule d’injection plastique conçu pour produire une pièce
                <strong>éprouvette de traction</strong> à usage pédagogique.
            </p>
            <p>
                Le modèle 3D présente l'ensemble du moule, avec ses parties fixes et mobiles. Il a été modélisé sous <strong>SolidWorks</strong>, usiné à l'aide de <strong>Fusion360</strong>,
                puis converti pour une visualisation web.
            </p>
            <p>
                Ce projet s’intègre dans une démarche de simulation et d’optimisation de l’usinage. Plusieurs vidéos présentent les étapes de fabrication et les tests réalisés.
            </p>
        </section>

        <!-- Vidéos -->
        <section class="video-section">
            <h2>🎥 Vidéos des simulations d'usinage</h2>
            <div class="video-grid">
                <div class="video-iframe">
                    <iframe src="https://www.youtube.com/embed/Qh49asUTONA"
                            title="Simulation Usinage - Phase 10"
                            allow="accelerometer; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                    <p>Simulation Usinage - Phase 10</p>
                </div>

                <div class="video-iframe">
                    <iframe src="https://www.youtube.com/embed/PxtnoZOF9DE"
                            title="Simulation Usinage - Phase 20"
                            allow="accelerometer; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                    <p>Simulation Usinage - Phase 20</p>
                </div>

                <div class="video-iframe">
                    <iframe src="https://www.youtube.com/embed/RCWMFDP5iXs"
                            title="Simulation Usinage - Phase 30"
                            allow="accelerometer; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                    <p>Simulation Usinage - Phase 30</p>
                </div>
            </div>
        </section>

        <!-- Lien retour -->
        <p style="text-align:center;">
            <a class="back-link" href="/">⬅ Retour à l'accueil</a>
        </p>
    </main>

    <!-- Footer -->
    <div id="footer"></div>
    <script src="/assets/js/footer-loader.js" defer></script>

    <!-- Lang switch -->
    <script src="/assets/js/lang.js" defer></script>

    <script>
        // Anti-flash: révéler une fois tout chargé
        window.addEventListener("load", () => {
            document.body.style.visibility = "visible";
        });
    </script>
</body>
</html>
